<!-- Button trigger modal -->
<div class="d-flex justify-content-center">
  <button class="btn btn-dark" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal">
    Cart
  </button>
</div>

<div class="container p-5">
  <h1 class="mt-2 text-center">Products</h1>
  <div class="row">
    <div class="col-md-4" *ngFor="let product of products">
      <div class="card mt-4">
        <img [src]="product.image" class="card-img-top" alt="Product Image">
        <div class="card-body">
          <h5 class="card-title">{{ product.title }}</h5>
          <p class="card-text">{{ product.description }}</p>
          <p class="card-text">{{ product.price | currency }}</p>
          <button class="btn btn-dark" (click)="addToCart(product)">Add to Cart</button>
          <button class="btn btn-dark ms-3" (click)="removeFromCart(product)">Remove from Cart</button>
          <div class="input-group input-group-sm mb-3">
            <span class="input-group-text" id="inputGroup-sizing-sm">Quantity</span>
            <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" [(ngModel)]="product.quantity" (change)="updateQuantity(product)" min="1">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div *ngIf="cartItems.length > 0">
        <h2>Shopping Cart</h2>
        <ul>
          <li *ngFor="let item of cartItems">
            <h4>{{ item.title }}</h4>
            <p>Price: {{ item.price | currency }}</p>
          </li>
        </ul>
        <p>Total Price: {{ getTotalPrice() | currency }}</p>
      </div>
      <div *ngIf="cartItems.length === 0">
        <p>Your cart is empty.</p>
      </div>
    </div>
  </div>
</div>


